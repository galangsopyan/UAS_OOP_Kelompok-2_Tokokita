<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TokoKita | UAS OOP 2026</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  </head>

  <body class="d-flex flex-column min-vh-100">
    <!-- Top bar -->
    <div class="top-bar">
      <div class="container d-flex justify-content-end align-items-center py-1">
        <a href="/about" class="btn-top me-2"><i class="fas fa-info-circle me-1"></i>About</a>
        <a href="/dashboard" class="btn-top btn-outline-success"><i class="fas fa-chart-line me-1"></i>Dashboard</a>
      </div>
    </div>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark shadow-lg sticky-top">
      <div class="container d-flex align-items-center">
        <!-- Brand -->
        <a class="navbar-brand me-auto d-flex align-items-center" href="/">
          <img src="{{ url_for('static', filename='images/tokokita.png') }}" alt="TokoKita" class="brand-logo me-2" />
          TokoKita
        </a>
        <!-- Cart mobile -->
        <a class="nav-link-cart position-relative d-lg-none me-2 order-1" href="/cart">
          <i class="fas fa-shopping-cart"></i>
          {% if session.cart %}
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ session.cart|length }}
            <span class="visually-hidden">items in cart</span>
          </span>
          {% endif %}
        </a>

        <!-- Toggler -->
        <button class="navbar-toggler order-2" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Collapse Menu -->
        <div class="collapse navbar-collapse order-3" id="navbarNav">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-lg-center">
            <!-- Home -->
            <li class="nav-item">
              <a class="nav-link {% if request.endpoint=='index' %}active{% endif %}" href="/"> <i class="fas fa-home me-1"></i> Home </a>
            </li>

            <!-- Catalog Dropdown -->
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle {% if request.path.startswith('/catalog') %}active{% endif %} {% if request.args.get('category') %}active{% endif %}" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fas fa-bag-shopping me-1"></i> Catalog
              </a>
              <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="/catalog?category=men's clothing">Men's Clothing</a></li>
                <li><a class="dropdown-item" href="/catalog?category=women's clothing">Women's Clothing</a></li>
                <li><a class="dropdown-item" href="/catalog?category=electronics">Electronics</a></li>
                <li><a class="dropdown-item" href="/catalog?category=jewelery">Jewelery</a></li>
                <li><a class="dropdown-item" href="/catalog">Lihat Semua</a></li>
              </ul>
            </li>

            <!-- FAQ -->
            <li class="nav-item">
              <a class="nav-link {% if request.endpoint=='faq' %}active{% endif %}" href="/faq"> <i class="fas fa-question-circle"></i> FAQ </a>
            </li>

            <!-- Search -->
            <li class="nav-item ms-lg-3">
              <form class="d-flex" action="/catalog" method="GET">
                <div class="input-group">
                  <input class="form-control search-input" type="search" name="q" placeholder="Cari barang..." aria-label="Search" />
                  <button class="btn btn-search" type="submit"><i class="fas fa-search"></i></button>
                </div>
              </form>
            </li>

            <!-- Cart desktop -->
            <li class="nav-item d-none d-lg-block ms-3">
              <a class="nav-link-cart position-relative {% if request.endpoint=='cart' %}active{% endif %}" href="/cart">
                <i class="fas fa-shopping-cart me-1"></i>
                {% if session.cart %}
                <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                  {{ session.cart|length }}
                  <span class="visually-hidden">items in cart</span>
                </span>
                {% endif %}
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <main class="container py-5">{% block content %}{% endblock %}</main>

    <footer class="py-4 mt-auto border-top">
      <div class="container text-center">
        <p class="mb-0">&copy; 2026 Universitas Pelita Bangsa. Dibuat dengan <i class="fas fa-heart text-danger"></i> oleh Kelompok 2.</p>
      </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
